doctype html
html
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    meta(name="viewport" content="width=device-width, initial-scale=1")
    title Trip Track
    style !{bootstrap}
    script !{chartJs}
  body
    mixin routeName(r)
      code= r.start
      span
        |
        | to
        |
      code= r.end

    #main.container-fluid
      .row
        ul
          each r in routes
            li
              a(href='#'+r.id)
                +routeName(r)
      .row
        each r in routes
          .route.col-lg-3.col-sm-6
            h3
              +routeName(r)
            .graph
              canvas(id=r.id)
              script.
                var ctx = document.getElementById("#{r.id}").getContext('2d');
                var myChart = new Chart(ctx, {
                  type: 'line',
                  data: {
                    labels: !{JSON.stringify(r.labels)},
                    datasets: [{
                      data: !{JSON.stringify(r.data)}
                    }],
                  },
                  options: {
                    responsive: true,
                    legend: false,
                    scales: {
                      yAxes: [{
                      }],
                      xAxes: [{
                        gridLines: {
                          offsetGridLines: false
                        },
                        offset: true,
                        type: 'time',
                        time: {
                          parser: "x"
                        }
                      }]
                    }
                  }
                });
            table.table.table-striped.table-condensed
              thead
                tr
                  th Time of day
                  th Duration
              tbody
                each t in r.times
                  tr
                    td #{t.time}
                    td #{t.duration}
